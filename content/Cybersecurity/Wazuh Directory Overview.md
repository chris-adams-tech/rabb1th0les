---
title: Wazuh Directory Overview
date: 2024-10-12
type: Installation Guide
topic: Open-source SIEM
---

List of files and directories for making any adjustments to integrations

See [[Secretcon Active Directory server build]] for a guide to install and run Wazuh.

# Install

**For the quick install, use the command below. This will install everything; *server*, *manager*, and *indexer*.

```bash
$ curl -sO https://packages.wazuh.com/4.9/wazuh-install.sh && sudo bash ./wazuh-install.sh -a
```

Passwords can be found in this file

```bash
$ sudo tar -O -xvf wazuh-install-files.tar wazuh-install-files/wazuh-passwords.txt
```

# Uninstall
```bash
$ sudo bash wazuh-install.sh --uninstall
```

Disable Wazuh service

```bash
# systemctl disable wazuh-manager
# systemctl daemon-reload
```

Remove Filebeat

```bash
# apt-get remove --purge filebeat -y
```

Uninstall Indexer

```bash
# apt-get remove --purge wazuh-indexer -y
```


Hosts the Filebeat keystore and username
`/etc/filebeat/filebeat.yml`
### Backup of internal users
* /etc/wazuh-indexer/internalusers-backup


# Wazuh Server/Manager

## Configuration file for rules/alerts

`/var/ossec/etc/rules/local_rules.xml`

Helpful to know

| Port      | Purpose                                     |
| --------- | ------------------------------------------- |
| 1514/TCP  | for agent communication.                    |
| 1515/TCP  | for enrollment via automatic agent request. |
| 55000/TCP | for enrollment via Wazuh server API.        |
## Alert file
Alerts will be stored in the directory below

`/var/ossec/logs/alerts/alerts.log`

## Log Files

|**Log Storage File**|**Log Source**|**Description**|
|---|---|---|
|`/var/ossec/logs/ossec.log`|Internal|Stores all informational level logs generated by the Wazuh server.|
|`/var/ossec/logs/api.log`|Internal|Stores logs generated by the Wazuh application when interacting with the Wazuh server APIs.|
|`/var/ossec/logs/cluster.log`|Internal|Stores logs generated by the activities of the Wazuh cluster.|
|`/var/ossec/logs/integrations.log`|Internal|Stores logs generated by the Wazuh integration module when interfacing with third-party applications and systems.|
|`/var/ossec/logs/active-responses.log`|Internal|Stores logs generated by the Wazuh Active Response module.|
|`/var/ossec/logs/firewall/firewall.log`|Internal|Stores logs generated by the firewall.|
|`/var/ossec/logs/archives/archives.log`|External|Stores logs received from third-party applications and systems in plaintext.|
|`/var/ossec/logs/archives/archives.json`|External|Stores logs received from third-party applications and systems in JSON.|
#### Configuration file for agent enrollment

`/var/ossec/etc/ossec.conf`


#### Restarting manager

```bash
# systemctl restart wazuh-manager 
```


#### Confirming enrollment

Check on the endpoint by running `netstat -a` and viewing the output. There should be `SYN_SENT` on port `1514`. Then, subsequently, should `Establish` a connection.

#### Check status of an agent using the `agent_control` utility

```
/var/ossec/bin/agent_control -i <WAZUH_AGENT_ID> | grep Status
```

#### To list all available Wazuh agents and their status

```bash
/var/ossec/bin/agent_control -l
```
## Other Helpful Directories

If you are using `libvirt`/`Qemu` in your environment, there are some helpful steps in these pages: [[Secretcon Active Directory server build]], [[Qemu-KVM-Libvirt]], [[VM Lab Set up]].

For more information and guides on Linux, check out these pages, [[Linux - Home]]

---
<div style="text-align: center;">
	<div class="gradient-text">ðŸ‘¾ 2024 rabb1th0les (Chris A)dams ðŸ‘¾</div> 
	ðŸŒ´â˜€Thanks for supporting my page â˜€ðŸŒ´
	<nav>
		<ul style="list-style: none; padding: 0;">
			<div style="text-align: center;">
				<li><a href="index.html">Home</a> | <a href="Contact.html">Contact</a></li>
			</div>
		</ul>
	</nav>	
</div>